<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Poly: poly::PolymorphicEngine&lt; Cipher, Compiler, Editor, OS &gt; Class Template Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Poly
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="namespacepoly.html">poly</a></li><li class="navelem"><a class="el" href="classpoly_1_1_polymorphic_engine.html">PolymorphicEngine</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classpoly_1_1_polymorphic_engine-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">poly::PolymorphicEngine&lt; Cipher, Compiler, Editor, OS &gt; Class Template Reference</div></div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;engine.hpp&gt;</code></p>
<div class="dynheader">
Inheritance diagram for poly::PolymorphicEngine&lt; Cipher, Compiler, Editor, OS &gt;:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classpoly_1_1_polymorphic_engine.png" usemap="#poly::PolymorphicEngine_3C_20Cipher_2C_20Compiler_2C_20Editor_2C_20OS_20_3E_map" alt=""/>
  <map id="poly::PolymorphicEngine_3C_20Cipher_2C_20Compiler_2C_20Editor_2C_20OS_20_3E_map" name="poly::PolymorphicEngine_3C_20Cipher_2C_20Compiler_2C_20Editor_2C_20OS_20_3E_map">
<area href="classpoly_1_1_polymorphic_engine_base.html" alt="poly::PolymorphicEngineBase&lt; Real, Cipher, Compiler, Editor &gt;" shape="rect" coords="0,56,764,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="inherited" name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_methods_classpoly_1_1_polymorphic_engine_base"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classpoly_1_1_polymorphic_engine_base')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classpoly_1_1_polymorphic_engine_base.html">poly::PolymorphicEngineBase&lt; Real, Cipher, Compiler, Editor &gt;</a></td></tr>
<tr class="memitem:aad193fde69bc1ff749d39d5744839e82 inherit pub_methods_classpoly_1_1_polymorphic_engine_base" id="r_aad193fde69bc1ff749d39d5744839e82"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpoly_1_1_polymorphic_engine_base.html#aad193fde69bc1ff749d39d5744839e82">PolymorphicEngineBase</a> (<a class="el" href="classpoly_1_1_binary_editor.html">BinaryEditor</a>&lt; Editor &gt; &amp;editor, std::unique_ptr&lt; <a class="el" href="namespacepoly.html#a22188cc5485c6346202a0a1005781f6e">Compiler</a> &gt; compiler) noexcept</td></tr>
<tr class="separator:aad193fde69bc1ff749d39d5744839e82 inherit pub_methods_classpoly_1_1_polymorphic_engine_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49eae35738e8e852f8634912d8bd089b inherit pub_methods_classpoly_1_1_polymorphic_engine_base" id="r_a49eae35738e8e852f8634912d8bd089b"><td class="memTemplParams" colspan="2">template&lt;std::uint8_t word_size = kByteWordSize&gt; </td></tr>
<tr class="memitem:a49eae35738e8e852f8634912d8bd089b inherit pub_methods_classpoly_1_1_polymorphic_engine_base"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classpoly_1_1_polymorphic_engine_base.html#a49eae35738e8e852f8634912d8bd089b">generate_code</a> (const <a class="el" href="structpoly_1_1_encryption_secret.html">EncryptionSecret</a>&lt; word_size &gt; &amp;secret)</td></tr>
<tr class="separator:a49eae35738e8e852f8634912d8bd089b inherit pub_methods_classpoly_1_1_polymorphic_engine_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c4071aaa87aa75a07b6af2c0eef069c inherit pub_methods_classpoly_1_1_polymorphic_engine_base" id="r_a9c4071aaa87aa75a07b6af2c0eef069c"><td class="memTemplParams" colspan="2">template&lt;std::uint8_t word_size = kByteWordSize&gt; </td></tr>
<tr class="memitem:a9c4071aaa87aa75a07b6af2c0eef069c inherit pub_methods_classpoly_1_1_polymorphic_engine_base"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classpoly_1_1_polymorphic_engine_base.html#a9c4071aaa87aa75a07b6af2c0eef069c">encrypt_code</a> (const <a class="el" href="structpoly_1_1_encryption_secret.html">EncryptionSecret</a>&lt; word_size &gt; &amp;secret) noexcept</td></tr>
<tr class="separator:a9c4071aaa87aa75a07b6af2c0eef069c inherit pub_methods_classpoly_1_1_polymorphic_engine_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8290f3dfaf6b2c3428c3523c4105245c inherit pub_methods_classpoly_1_1_polymorphic_engine_base" id="r_a8290f3dfaf6b2c3428c3523c4105245c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespacepoly.html#a7d17f849e9c70954cdbd00e32f8e97b3">RawCode</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpoly_1_1_polymorphic_engine_base.html#a8290f3dfaf6b2c3428c3523c4105245c">produce_raw</a> (<a class="el" href="namespacepoly.html#a547e73c2c1bcafabd22997d9e2e9e866">Address</a> base_va, <a class="el" href="namespacepoly.html#a547e73c2c1bcafabd22997d9e2e9e866">Address</a> jump_va) noexcept</td></tr>
<tr class="separator:a8290f3dfaf6b2c3428c3523c4105245c inherit pub_methods_classpoly_1_1_polymorphic_engine_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pro_attribs_classpoly_1_1_polymorphic_engine_base"><td colspan="2" onclick="javascript:toggleInherit('pro_attribs_classpoly_1_1_polymorphic_engine_base')"><img src="closed.png" alt="-"/>&#160;Protected Attributes inherited from <a class="el" href="classpoly_1_1_polymorphic_engine_base.html">poly::PolymorphicEngineBase&lt; Real, Cipher, Compiler, Editor &gt;</a></td></tr>
<tr class="memitem:aecb0aae07861b0a2dd363cf76b864b6d inherit pro_attribs_classpoly_1_1_polymorphic_engine_base" id="r_aecb0aae07861b0a2dd363cf76b864b6d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classpoly_1_1_binary_editor.html">BinaryEditor</a>&lt; Editor &gt; &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpoly_1_1_polymorphic_engine_base.html#aecb0aae07861b0a2dd363cf76b864b6d">editor_</a></td></tr>
<tr class="separator:aecb0aae07861b0a2dd363cf76b864b6d inherit pro_attribs_classpoly_1_1_polymorphic_engine_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a250dcc096b160603f3802bd13d5fdfc0 inherit pro_attribs_classpoly_1_1_polymorphic_engine_base" id="r_a250dcc096b160603f3802bd13d5fdfc0"><td class="memItemLeft" align="right" valign="top">asmjit::CodeHolder&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpoly_1_1_polymorphic_engine_base.html#a250dcc096b160603f3802bd13d5fdfc0">code_holder_</a></td></tr>
<tr class="separator:a250dcc096b160603f3802bd13d5fdfc0 inherit pro_attribs_classpoly_1_1_polymorphic_engine_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3594cee793b65e23deebee44c338d809 inherit pro_attribs_classpoly_1_1_polymorphic_engine_base" id="r_a3594cee793b65e23deebee44c338d809"><td class="memItemLeft" align="right" valign="top">std::unique_ptr&lt; <a class="el" href="namespacepoly.html#a22188cc5485c6346202a0a1005781f6e">Compiler</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classpoly_1_1_polymorphic_engine_base.html#a3594cee793b65e23deebee44c338d809">compiler_</a></td></tr>
<tr class="separator:a3594cee793b65e23deebee44c338d809 inherit pro_attribs_classpoly_1_1_polymorphic_engine_base"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><div class="compoundTemplParams">template&lt;class <a class="el" href="structpoly_1_1_cipher.html">Cipher</a>, class <a class="el" href="namespacepoly.html#a22188cc5485c6346202a0a1005781f6e">Compiler</a>, class Editor, <a class="el" href="namespacepoly.html#aa139adb0cab005e3b016e6ea6b3ce669">HostOS</a> OS = HostOS::kNotSupported&gt;<br />
class poly::PolymorphicEngine&lt; Cipher, Compiler, Editor, OS &gt;</div><p>This class deals with the encryption of the binary's text section and the generation of the correspondent code for the decryption procedure. This class can be customized with its template parameters:</p><ul>
<li>the <a class="el" href="structpoly_1_1_cipher.html">Cipher</a> class template parameter is used for the encryption and decryption. It must provide the following static methods: <div class="fragment"><div class="line">&lt;std::uint8_t size&gt;</div>
<div class="line">    Error Cipher::assemble_decryption(EncryptionSecret&lt;word_size&gt; &amp;,</div>
<div class="line">        Compiler &amp;, Register &amp;, std::size_t, asmjit::Label &amp;)</div>
</div><!-- fragment --> <div class="fragment"><div class="line">&lt;std::uint8_t size&gt;</div>
<div class="line">    Error Cipher::encrypt(RawCode &amp;, EncryptionSecret&lt;word_size&gt; &amp;)</div>
</div><!-- fragment --></li>
<li>the Compiler class template parameter is used for the generation of the assembly code and its serialization. It must inherit from <a class="el" href="namespacepoly.html#a22188cc5485c6346202a0a1005781f6e">poly::Compiler</a></li>
<li>the Editor class template parameter is used for the querying and modifications of the binary. It must inherit from <a class="el" href="classpoly_1_1_binary_editor.html">BinaryEditor&lt;Editor&gt;</a> and implement all its required metods. On Windows Editor must also provide the following method: <div class="fragment"><div class="line">Editor::get_imported_function_va(const std::string &amp;,</div>
<div class="line">                const std::string &amp;)</div>
</div><!-- fragment --> On MacOS Editor must also provide the following methods: <div class="fragment"><div class="line">::uint8_t Editor::code_max_permissions()</div>
</div><!-- fragment --> <div class="fragment"><div class="line">::uint8_t Editor::code_max_permissions(std::uint8_t)</div>
</div><!-- fragment --></li>
</ul>
<p>This is a generic implementation for not supported operating systems. In order to support an os, a specialization for the appropriate HostOS value must be provided.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classpoly_1_1_polymorphic_engine_base.html">poly::PolymorphicEngineBase</a> </dd>
<dd>
<a class="el" href="classpoly_1_1_polymorphic_engine_3_01_cipher_00_01_compiler_00_01_editor_00_01_host_o_s_1_1k_linux_01_4.html">poly::PolymorphicEngine&lt;Cipher, Compiler, Editor, HostOS::kLinux&gt;</a> </dd>
<dd>
<a class="el" href="classpoly_1_1_polymorphic_engine_3_01_cipher_00_01_compiler_00_01_editor_00_01_host_o_s_1_1k_mac_o_s_01_4.html">poly::PolymorphicEngine&lt;Cipher, Compiler, Editor, HostOS::kMacOS&gt;</a> </dd>
<dd>
<a class="el" href="classpoly_1_1_polymorphic_engine_3_01_cipher_00_01_compiler_00_01_editor_00_01_host_o_s_1_1k_windows_01_4.html">poly::PolymorphicEngine&lt;Cipher, Compiler, Editor, HostOS::kWindows&gt;</a> </dd>
<dd>
<a class="el" href="namespacepoly.html#aabe89592ead99a2ae6175cfcaabeb983">poly::OsPolymorphicEngine&lt;Cipher, Compiler, Editor&gt;</a> </dd></dl>
</div><hr/>The documentation for this class was generated from the following file:<ul>
<li>/Users/runner/work/poly/poly/include/poly/<a class="el" href="engine_8hpp.html">engine.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8
</small></address>
</body>
</html>
